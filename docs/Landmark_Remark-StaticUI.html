<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Landmark Remark</title>
    <link rel="stylesheet" href="../client/styles/grid-bootstrap.css">
    <link rel="stylesheet" href="../client/styles/responsive-text.css">
    <link rel="stylesheet" href="../client/styles/style.css">
</head>
<body>
<main id="root" class="container-fluid">
    <header id="land-remarks-header-component" class="row">
        <div class="col-xs-12 col-sm-8 col-md-9 col-lg-9 col-xl-9">
            <h1>LANDMARK REMARK</h1>
        </div>
        <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3 col-xl-3">
            <h4>Hi, Username</h4>
        </div>
    </header>
    <section id="landmark-remarks-component" class="row">
        <section  class="col-xs-12 col-sm-8 col-md-9 col-lg-9 col-xl-9">
            <div class="row">
                <header class="col-xs-7">
                    <h3>Your landmarks</h3>
                </header>
                <div class="col-xs-5">
                    <label class="lblClickToMark">Click to make your mark</label>
                </div>
            </div>
            <div class="row">
                <div id="landmark-remarks-map-component">
                    <div id="landmark-remarks-map"></div>
                </div>
            </div>
        </section>
        <aside id="landmark-others-remarks-component" class="col-xs-12 col-sm-4 col-md-3 col-lg-3 col-xl-3">
            <header class="row"><h4>Others remarks</h4></header>
            <section id="landmark-others-remarks-list" class="row">
                <article class="others-remark">
                    <header>
                        <label class="others-remark-username">Someone1</label>
                        <time class="others-remark-date">
                            20/09/2017
                        </time>
                    </header>
                    <p class="others-remark-text">
                        This place was not awesome!
                    </p>
                </article>
                <article class="others-remark">
                    <header>
                        <label class="others-remark-username">Someone2</label>
                        <time class="others-remark-date">
                            20/09/2017
                        </time>
                    </header>
                    <p class="others-remark-text">
                        This place is fantastic!
                    </p>
                </article>
                <article class="others-remark">
                    <header>
                        <label class="others-remark-username">Someone3</label>
                        <time class="others-remark-date">
                            19/09/2017
                        </time>
                    </header>
                    <p class="others-remark-text">
                        This place was great!
                    </p>
                </article>
                <article class="others-remark">
                    <header>
                        <label class="others-remark-username">Someone4</label>
                        <time class="others-remark-date">
                            7/08/2017
                        </time>
                    </header>
                    <p class="others-remark-text">
                        This place was not fun!
                    </p>
                </article>
                <article class="others-remark">
                    <header>
                        <label class="others-remark-username">Someone5</label>
                        <time class="others-remark-date">
                            1/08/2017
                        </time>
                    </header>
                    <p class="others-remark-text">
                        I don't know anything about this place!
                    </p>
                </article>
                <article class="others-remark">
                    <header>
                        <label class="others-remark-username">Someone6</label>
                        <time class="others-remark-date">
                            15/07/2017
                        </time>
                    </header>
                    <p class="others-remark-text">
                        This place was fun!
                    </p>
                </article>
            </section>
        </aside>
    </section>
</main>
<script>

    function initializeMapWithUserLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        } else {
            alert("Geolocation is not supported by this browser.");
        }
    }

    function showPosition(position) {
        var myLatitude = position.coords.latitude;
        var myLongitude = position.coords.longitude;
        initialiseMap(myLatitude, myLongitude);
    }

    function showError(error) {
        switch(error.code) {
            case error.PERMISSION_DENIED:
                alert("User denied the request for Geolocation.");
                break;
            case error.POSITION_UNAVAILABLE:
                alert("Location information is unavailable.");
                break;
            case error.TIMEOUT:
                alert("The request to get user location timed out.");
                break;
            case error.UNKNOWN_ERROR:
                alert("An unknown error occurred.");
                break;
        }
    }
    function initialiseMap(myLatitude, myLongitude) {
        //var uluru = {lat: -25.363, lng: 131.044};
        var userLocation = {lat: myLatitude, lng: myLongitude};
        var map = new google.maps.Map(document.getElementById('landmark-remarks-map'), {
            zoom: 4,
            center: userLocation
        });
        var marker = new google.maps.Marker({
            position: userLocation,
            map: map
        });
    }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8FXHuzSz2Z6CD6sxJB1CgCz-1Am8UFFc&callback=initializeMapWithUserLocation">
</script>
</body>
</html>
